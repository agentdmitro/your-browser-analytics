<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Browsing Analytics</title>
    <link rel="stylesheet" href="dashboard.css">
</head>

<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <div class="logo">
                    <div class="logo-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="18" y1="20" x2="18" y2="10"></line>
                            <line x1="12" y1="20" x2="12" y2="4"></line>
                            <line x1="6" y1="20" x2="6" y2="14"></line>
                        </svg>
                    </div>
                    <div class="logo-text">
                        <h1>Your Browsing Analytics</h1>
                        <p>Insights into your browsing habits</p>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <div class="date-filter">
                    <label>Time Range:</label>
                    <!-- Custom Select -->
                    <div class="custom-select" id="date-range-select">
                        <div class="custom-select-trigger" id="select-trigger">
                            <span id="select-value">Last 30 days</span>
                            <span class="custom-select-arrow">‚ñº</span>
                        </div>
                        <div class="custom-select-options" id="select-options">
                            <div class="custom-select-option" data-value="1">Today</div>
                            <div class="custom-select-option" data-value="7">Last 7 days</div>
                            <div class="custom-select-option" data-value="14">Last 14 days</div>
                            <div class="custom-select-option selected" data-value="30">Last 30 days</div>
                            <div class="custom-select-option" data-value="90">Last 90 days</div>
                            <div class="custom-select-option" data-value="180">Last 6 months</div>
                            <div class="custom-select-option" data-value="365">Last year</div>
                            <div class="custom-select-option" data-value="all">All time</div>
                            <div class="custom-select-option custom-option" data-value="custom">üìÖ Custom Range...</div>
                        </div>
                    </div>
                </div>
                <div class="date-range-picker" id="date-range-picker">
                    <input type="date" id="date-start" title="Start date">
                    <span class="date-separator">to</span>
                    <input type="date" id="date-end" title="End date">
                    <button class="btn-apply" id="btn-apply-range">Apply</button>
                </div>
                <button class="btn-icon" id="btn-export" title="Export data">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                </button>
                <button class="btn-icon" id="btn-refresh" title="Refresh">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="23 4 23 10 17 10"></polyline>
                        <polyline points="1 20 1 14 7 14"></polyline>
                        <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Stats Overview -->
        <section class="stats-overview">
            <div class="stat-card">
                <div class="stat-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="total-pages">--</div>
                    <div class="stat-label">Total Pages Visited</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="2" y1="12" x2="22" y2="12"></line>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                    </svg>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="unique-domains">--</div>
                    <div class="stat-label">Unique Domains</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="peak-hour">--</div>
                    <div class="stat-label">Peak Hour</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="peak-day">--</div>
                    <div class="stat-label">Most Active Day</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <g clip-path="url(#clip0_655_9208)">
                            <path d="M15.5598 12.78L12.7098 9.93C12.3198 9.54 11.6898 9.54 11.2998 9.93L8.44977 12.78C7.44977 13.78 7.00977 15.11 7.00977 16.34C7.00977 17.57 7.56977 18.9 8.44977 19.9C9.44977 20.9 10.6698 21.46 12.0098 21.46C13.3498 21.46 14.5698 20.9 15.5698 20.02C17.5698 18.02 17.5698 14.8 15.5698 12.8L15.5598 12.78Z" />
                            <g opacity="0.4">
                                <path d="M13.3104 3.11C13.3104 3.83 12.7204 4.42 12.0004 4.42C11.2804 4.42 10.6904 3.83 10.6904 3.11C10.6904 2.39 11.2804 1.81 12.0004 1.81C12.7204 1.81 13.3104 2.39 13.3104 3.11Z" />
                            </g>
                            <g opacity="0.4">
                                <path d="M3.86 12.56C3.86 13.28 3.28 13.86 2.56 13.86C1.84 13.86 1.25 13.28 1.25 12.56C1.25 11.84 1.84 11.25 2.56 11.25C3.28 11.25 3.86 11.84 3.86 12.56Z" />
                            </g>
                            <g opacity="0.4">
                                <path d="M22.7496 12.56C22.7496 13.28 22.1596 13.86 21.4396 13.86C20.7196 13.86 20.1396 13.28 20.1396 12.56C20.1396 11.84 20.7196 11.25 21.4396 11.25C22.1596 11.25 22.7496 11.84 22.7496 12.56Z" />
                            </g>
                            <g opacity="0.4">
                                <path d="M19.9704 5.88999C19.9704 6.60999 19.3904 7.18999 18.6704 7.18999C17.9504 7.18999 17.3604 6.60999 17.3604 5.88999C17.3604 5.16999 17.9504 4.57999 18.6704 4.57999C19.3904 4.57999 19.9704 5.16999 19.9704 5.88999Z" />
                            </g>
                            <g opacity="0.4">
                                <path d="M6.64027 5.88999C6.64027 6.60999 6.05027 7.18999 5.33027 7.18999C4.61027 7.18999 4.03027 6.60999 4.03027 5.88999C4.03027 5.16999 4.61027 4.57999 5.33027 4.57999C6.05027 4.57999 6.64027 5.16999 6.64027 5.88999Z" />
                            </g>
                        </g>
                        <defs>
                            <clipPath id="clip0_655_9208">
                                <rect width="24" height="24" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="average-streak">--</div>
                    <div class="stat-label">Average Streak</div>
                </div>
            </div>
        </section>

        <!-- Charts Grid -->
        <div class="charts-grid">
            <!-- Activity by Hour - Full Width -->
            <section class="chart-card chart-wide">
                <div class="chart-header">
                    <h2>Activity by Hour</h2>
                </div>
                <div class="chart-body chart-body-hourly">
                    <canvas id="chart-hourly"></canvas>
                </div>
            </section>

            <!-- Activity by Day -->
            <section class="chart-card">
                <div class="chart-header">
                    <h2>Activity by Day of Week</h2>
                </div>
                <div class="chart-body">
                    <canvas id="chart-daily"></canvas>
                </div>
                <div class="time-distribution" id="time-distribution">
                    <div class="time-slot" data-period="morning">
                        <span class="time-icon">üåÖ</span>
                        <span class="time-label">Morning</span>
                        <span class="time-hours">6-12</span>
                        <div class="time-bar">
                            <div class="time-fill"></div>
                        </div>
                        <span class="time-percent">--%</span>
                    </div>
                    <div class="time-slot" data-period="afternoon">
                        <span class="time-icon">‚òÄÔ∏è</span>
                        <span class="time-label">Afternoon</span>
                        <span class="time-hours">12-18</span>
                        <div class="time-bar">
                            <div class="time-fill"></div>
                        </div>
                        <span class="time-percent">--%</span>
                    </div>
                    <div class="time-slot" data-period="evening">
                        <span class="time-icon">üåÜ</span>
                        <span class="time-label">Evening</span>
                        <span class="time-hours">18-24</span>
                        <div class="time-bar">
                            <div class="time-fill"></div>
                        </div>
                        <span class="time-percent">--%</span>
                    </div>
                    <div class="time-slot" data-period="night">
                        <span class="time-icon">üåô</span>
                        <span class="time-label">Night</span>
                        <span class="time-hours">0-6</span>
                        <div class="time-bar">
                            <div class="time-fill"></div>
                        </div>
                        <span class="time-percent">--%</span>
                    </div>
                </div>
            </section>

            <!-- Browsing Categories -->
            <section class="chart-card">
                <div class="chart-header">
                    <h2>Browsing Categories</h2>
                </div>
                <div class="chart-body chart-body-pie">
                    <canvas id="chart-categories"></canvas>
                </div>
                <div class="category-legend" id="category-legend"></div>
            </section>

            <!-- Search Queries -->
            <section class="chart-card">
                <div class="chart-header">
                    <h2>Search Queries</h2>
                </div>
                <div class="chart-body chart-body-search">
                    <div class="search-summary" id="search-summary">--</div>
                    <div class="search-list" id="search-list"></div>
                </div>
            </section>

            <!-- Sessions -->
            <section class="chart-card">
                <div class="chart-header">
                    <h2>Sessions</h2>
                </div>
                <div class="chart-body chart-body-sessions">
                    <div class="session-stat">
                        <div class="session-label">Sessions</div>
                        <div class="session-value" id="sessions-count">--</div>
                    </div>
                    <div class="session-stat">
                        <div class="session-label">Avg Session</div>
                        <div class="session-value" id="sessions-avg">--</div>
                    </div>
                    <div class="session-stat">
                        <div class="session-label">Longest</div>
                        <div class="session-value" id="sessions-longest">--</div>
                    </div>
                </div>
            </section>

            <!-- Top Domains - Full Width -->
            <section class="chart-card chart-wide">
                <div class="chart-header">
                    <h2>Top Visited Domains</h2>
                </div>
                <div class="chart-body chart-body-domains">
                    <canvas id="chart-domains"></canvas>
                </div>
            </section>

            <!-- Top Pages Table -->
            <section class="chart-card chart-wide">
                <div class="chart-header">
                    <h2>Top Pages</h2>
                    <div class="table-controls">
                        <input type="text" id="page-search" placeholder="Search pages..." class="search-input">
                    </div>
                </div>
                <div class="chart-body chart-body-table">
                    <table class="pages-table" id="pages-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Page Title</th>
                                <th>URL</th>
                                <th>Visits</th>
                            </tr>
                        </thead>
                        <tbody id="pages-tbody">
                            <tr>
                                <td colspan="4" class="loading">Loading...</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="table-pagination" id="pagination"></div>
                </div>
            </section>

            <!-- Custom Categories -->
            <section class="chart-card chart-wide" id="custom-categories-card">
                <div class="chart-header">
                    <h2>Custom Categories</h2>
                </div>
                <div class="chart-body chart-body-custom">
                    <div class="custom-category-form">
                        <input type="text" id="custom-pattern" placeholder="Domain or keyword (e.g. figma.com)">
                        <select id="custom-category"></select>
                        <button class="btn-apply" id="btn-add-rule">Add</button>
                    </div>
                    <div class="custom-category-help">
                        Use plain text or a regex wrapped in slashes, e.g. /.*\\.google\\.com/
                    </div>
                    <div class="custom-category-list" id="custom-rules-list"></div>
                </div>
            </section>
        </div>

        <!-- Loading Overlay -->
        <!-- <div class="loading-overlay" id="loading-overlay">
            <div class="loading-spinner"></div>
            <p>Analyzing your browsing history...</p>
        </div> -->
    </div>

    <!-- Load Chart.js first, then dashboard.js -->
    <script src="lib/chart.umd.min.js"></script>
    <script src="dashboard.js"></script>
</body>

</html>
